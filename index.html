<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>Wetterstation</title>

<style>
/* ----------------------------------------------------
   GLOBAL STYLE (Dark Mode + iOS Look)
---------------------------------------------------- */
body {
    margin: 0;
    padding: 0;
    background: #0d0d0d;
    color: white;
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", Arial, sans-serif;
}

/* Layout */
.main {
    padding: 40px;
    padding-top: calc(40px + env(safe-area-inset-top));
}

/* Header */
.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.weather-icon {
    width: 120px;
    height: 120px;
}

.header-info .title {
    font-size: 36px;
    font-weight: 700;
    letter-spacing: -0.5px;
}

.header-info .subtitle {
    font-size: 22px;
    opacity: 0.8;
}

.header-info .gps,
.header-info .datetime {
    font-size: 18px;
    opacity: 0.7;
}

/* Cards */
.cards {
    display: flex;
    gap: 30px;
    margin-top: 30px;
}

.card {
    flex: 1;
    background: #1c1c1e;
    padding: 30px;
    border-radius: 22px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.35);
}

.card .label {
    font-size: 20px;
    opacity: 0.8;
}

.card .value {
    font-size: 48px;
    font-weight: 600;
    margin-top: 10px;
}

.trend svg {
    width: 32px;
    height: 32px;
}

/* Tabs */
.chart-tabs {
    margin-top: 30px;
}

.chart-tab {
    background: #2c2c2e;
    padding: 14px 22px;
    border-radius: 14px;
    font-size: 20px;
    margin: 6px;
    display: inline-block;
    transition: 0.2s;
}

.chart-tab.active {
    background: #0a84ff;
    color: white;
    font-weight: 600;
}

/* Chart */
#chart-container {
    margin-top: 25px;
}

/* Min/Max */
.minmax {
    font-size: 20px;
    margin-top: 15px;
    opacity: 0.8;
}

/* Sidebar */
.sidebar {
    position: fixed;
    left: -260px;
    top: 0;
    width: 240px;
    height: 100%;
    background: #1c1c1e;
    padding-top: 60px;
    box-shadow: 4px 0 20px rgba(0,0,0,0.4);
    transition: 0.3s;
}

.sidebar.open {
    left: 0;
}

.sidebar button {
    width: 200px;
    margin: 10px auto;
    display: block;
    padding: 18px;
    font-size: 20px;
    border-radius: 14px;
    background: #2c2c2e;
    color: white;
    border: none;
}

.sidebar button.active {
    background: #0a84ff;
}

.menu-btn {
    position: fixed;
    left: 20px;
    top: calc(20px + env(safe-area-inset-top));
    background: #0a84ff;
    color: white;
    padding: 12px 18px;
    border-radius: 12px;
    font-size: 22px;
    border: none;
    z-index: 1000;
}

/* ----------------------------------------------------
   MOBILE iOS OPTIMIERUNG
---------------------------------------------------- */
@media (max-width: 700px) {

    body {
        font-size: 19px;
        line-height: 1.45;
    }

    .main {
        padding: 25px;
        padding-top: calc(25px + env(safe-area-inset-top));
    }

    .header {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
    }

    .weather-icon {
        width: 90px;
        height: 90px;
    }

    .header-info .title {
        font-size: 32px;
    }

    .cards {
        flex-direction: column;
        gap: 25px;
    }

    .card {
        width: 100%;
        padding: 28px;
    }

    .card .value {
        font-size: 44px;
    }

    .chart-tab {
        font-size: 20px;
        padding: 14px 20px;
    }

    .sidebar {
        width: 240px;
    }

    .sidebar button {
        font-size: 20px;
        padding: 18px;
    }
}
</style>
</head>

<body>

<button class="menu-btn" onclick="toggleSidebar()">☰</button>

<div class="sidebar" id="sidebar">
    <button id="btn-today" onclick="setMode('today')">Heute</button>
    <button id="btn-week" onclick="setMode('week')">Woche</button>
    <button id="btn-month" onclick="setMode('month')">Monat</button>
    <button id="btn-year" onclick="setMode('year')">Jahr</button>
</div>

<div class="main">

    <div class="header">
        <svg id="weatherIcon" class="weather-icon"></svg>

        <div class="header-info">
            <div class="title">Wetterstation</div>
            <div class="subtitle">Live‑Daten</div>
            <div class="gps" id="gps">GPS lädt…</div>
            <div class="datetime" id="datetime">--:--</div>
        </div>
    </div>

    <div class="cards">
        <div class="card">
            <div class="label">Temperatur</div>
            <div class="value" id="temp">--</div>
            <div class="trend" id="trend-temp"></div>
        </div>

        <div class="card">
            <div class="label">Feuchtigkeit</div>
            <div class="value" id="hum">--</div>
            <div class="trend" id="trend-hum"></div>
        </div>

        <div class="card">
            <div class="label">Luftdruck</div>
            <div class="value" id="pres">--</div>
            <div class="trend" id="trend-pres"></div>
        </div>
    </div>

    <div class="chart-tabs">
        <span class="chart-tab active" id="tab-temp" onclick="setChartType('temp')">Temperatur</span>
        <span class="chart-tab" id="tab-hum" onclick="setChartType('hum')">Feuchte</span>
        <span class="chart-tab" id="tab-pres" onclick="setChartType('pres')">Druck</span>
    </div>

    <div id="chart-container">
        <canvas id="chart"></canvas>
    </div>

    <div class="minmax" id="minmax">Min/Max lädt…</div>

</div>

<!-- HIER KOMMT DEIN JAVASCRIPT (Abschnitt 3) WIEDER REIN -->

</body>
</html>
